## ì •ì˜

> **í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹(Promise Chaining)**: í”„ë¡œë¯¸ìŠ¤ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë“¤ì´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸° ë–„ë¬¸ì—, ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìžˆëŠ” íŒ¨í„´.

PromiseëŠ” .then(), .catch(), .finally()ì™€ ê°™ì€ í›„ì† ì²˜ë¦¬ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì²´ì´ë‹ì„ í•  ìˆ˜ ìžˆê³ ,ì´ëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìžˆë‹¤. ì´ë¥¼ í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹(promise chaining)ì´ë¼ê³  í•œë‹¤.

## ê¸°ë³¸ íŒ¨í„´

```javascript
const promise = new Promise((resolve, reject) => resolve()});

promise
	.then(() => {})
	.catch(() => {})
	.finally(() => {})
```

## í›„ì† ì²˜ë¦¬ ë°©ì‹
### finally ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œ

> `finally`ëŠ” ì²´ì¸ì— ë“±ìž¥í•  ë•Œë§ˆë‹¤ **í•­ìƒ í˜¸ì¶œëœë‹¤.**
> ë‹¤ë§Œ `finally` ë‚´ë¶€ì—ì„œ ë°˜í™˜í•œ ê°’ì€ ë¬´ì‹œë˜ê³ , ì´ì „ í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ê°€ ê·¸ëŒ€ë¡œ ë‹¤ìŒ ì²´ì¸ìœ¼ë¡œ ì „ë‹¬ëœë‹¤.

```javascript
const url = "https://jsonplaceholder.typicode.com/todos";

const fetchTodos = fetch(url);

fetchTodos
  .then((response) => response.json())
  .finally(() => console.log("finally"))
  .finally(() => console.log("finally 2"));

/*
[ì‹¤í–‰ê²°ê³¼]
finally
finally 2
*/
```

### finally ì´í›„ì— then
> `finally`ëŠ” `then`ì´ë‚˜ `catch`ê°€ ëë‚œ ë’¤ í˜¸ì¶œëœë‹¤.
> í•˜ì§€ë§Œ `finally`ìžì²´ê°€ ê°’ì„ ë°”ê¾¸ì§€ ì•Šìœ¼ë¯€ë¡œ, ì´í›„ `then`ì—ì„œëŠ” ì›ëž˜ì˜ resolve ê²°ê³¼ê°€ ê·¸ëŒ€ë¡œ ì „ë‹¬ëœë‹¤.
> ì¦‰, ì²´ì¸ì—ì„œì˜ ìˆœì„œëŠ”: `then -> finally -> then`
> ( `finally`ëŠ” ì¤‘ê°„ì— ë¼ì§€ë§Œ **ê²°ê³¼ íë¦„ì—ëŠ” ê°„ì„­í•˜ì§€ ì•ŠëŠ”ë‹¤.** )

```javascript
const url = "https://jsonplaceholder.typicode.com/todos";

const fetchTodos = fetch(url);

fetchTodos
  .then((response) => response.json())
  .then((json) => {
    console.log(json[1]);
    return json;
  })
  .finally(() => console.log("finally"))
  .finally(() => console.log("finally 2"))
  .then((json) => console.log(json[0]));
/*
[ì‹¤í–‰ê²°ê³¼]
{
  userId: 1,
  id: 2,
  title: 'quis ut nam facilis et officia qui',
  completed: false
}
finally
finally 2
{ userId: 1, id: 1, title: 'delectus aut autem', completed: false }
*/


```